<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <style>
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #333;
        }

        li {
            float: left;
        }

        li a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        li a:hover {
            background-color: #111;
        }
    </style>
</head>
<body>
<ul>
    <li><a class="active" href="/home">Home</a></li>
    <li><a href="/Profile">Profile</a></li>
    <li><a href="/feed">Feed</a></li>
    <li><a href="/ws">Chat</a></li>
</ul>
<div class="box">
    <div class="page-header">
        <h1 th:inline="text">Welcome</h1>
        <span th:text="|Hello ${username}|"/>

    </div>

    <p th:text="'Groups that you can are a part of'"/>
    <div th:each="aGroup: ${myGroups}">
        <p><a  th:href="@{'/group/list/' + ${aGroup.id}}" th:text="${aGroup.name}"> Group
        </a></p>
    </div>

    </p>

    <p th:text="'Groups that you can join'"/>
        <div th:each="aGroup: ${allGroups}">
            <form th:action="@{/group/join}", method="post">
            <p><a  th:href="@{'/group/list/' + ${aGroup.id}}" th:text="${aGroup.name}"> Group
                <input type = "hidden" name = "username" value = "${username}" />
                <input type="submit" value="Join"/>
            </a></p>
            </form>

        </div>

    </p>



    <form th:action="@{/api/group/add}" method="post" enctype="application/x-www-form-urlencoded" >
        Create  a new group
        <input type = "hidden" name = "creatorId" th:value = "${userId}" />
        <div><label> Group Name : <input type="text" name="groupName" /> </label></div>
        <div><input type="submit" value="Create" /></div>
    </form>


    <p>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Sign Out"/>
    </form>    </p>
    <p>

    <form th:action="@{/login}" method="post">
        <input type="submit" value="Sign in"/>
    </form>    </p>

    <form th:action="@{/register}" method="post">
        <input type="submit" value="Register"/>
    </form>    </p>
</div>
</body>
</html>